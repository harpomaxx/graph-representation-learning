schema: '2.0'
stages:
  convert:
    cmd: Rscript code/R/convert_net2graph.R --input rawdata/ctu-13/capture20110810.binetflow.labels.gz
      --output data/pajek/capture20110810.binetflow.pajek
    deps:
    - path: code/R/convert_net2graph.R
      md5: ded29e3c95babf5e0e67b263f92ab8c1
      size: 1877
    - path: rawdata/ctu-13/capture20110810.binetflow.labels.gz
      md5: 2596558e22ac484fc0f92b489cf4c434
      size: 66410453
    outs:
    - path: data/pajek
      md5: 0ade4408d6be8908d1331bea09bbce8a.dir
      size: 10284700
      nfiles: 1
  generate_ncol:
    cmd: bash code/bash/convert_net2ncol_all.sh  -o data/ncol/ -i rawdata/ctu-13/
    deps:
    - path: code/R/functions/convert_net2ncol.R
      md5: a17147e741ac65df1a6a9693fc659cf0
      size: 1604
    - path: code/R/scripts/convert_net2ncol_cmd.R
      md5: bc851067fe5012364d5b90613ffdb062
      size: 2279
    - path: code/bash/convert_net2ncol_all.sh
      md5: 1c8da8c1fab49560392b5a9ab28a15b6
      size: 1044
    - path: rawdata/ctu-13/
      md5: fbfbecb0943ab91605e7d227ea7c1a0c.dir
      size: 450157078
      nfiles: 28
    outs:
    - path: data/ncol/
      md5: 8549018de551d5b9cdfcc56832d1a55d.dir
      size: 453561316
      nfiles: 26
    - path: metrics/
      md5: 8b814a56857a7cdc964a4eac09cd8c82.dir
      size: 3383
      nfiles: 27
  calculate_bc:
    cmd: bash code/bash/calculate_bc_all.sh -i data/ncol/ -o data/features/bc/
    deps:
    - path: code/R/functions/calculate_bc.R
      md5: cb09859db7260e8c7a1a5d195498bdfb
      size: 893
    - path: code/R/scripts/calculate_bc_cmd.R
      md5: 4d351c4bf89c6853455c71bbe25b6546
      size: 1127
    - path: code/bash/calculate_bc_all.sh
      md5: 8467cb1c083d964ab357ff1a03f076b7
      size: 1387
    - path: data/ncol/
      md5: 8549018de551d5b9cdfcc56832d1a55d.dir
      size: 453561316
      nfiles: 26
    outs:
    - path: data/features/bc/
      md5: a87c9ec1f4eef4152d6c74b0055d43f8.dir
      size: 52274699
      nfiles: 13
  calculate_features:
    cmd: bash code/bash/calculate_features_all.sh -i data/ncol/ -o data/features/all/
    deps:
    - path: code/R/functions/calculate_features.R
      md5: aad33d589d7686a7f1e28714145dd75b
      size: 2449
    - path: code/R/scripts/calculate_features_cmd.R
      md5: 2aef7d6c6c7a11dacbf908e6562044a2
      size: 1194
    - path: code/bash/calculate_features_all.sh
      md5: 4ee44c81d973fe4020d1c5e21adca2b7
      size: 1342
    - path: data/ncol/
      md5: 8549018de551d5b9cdfcc56832d1a55d.dir
      size: 453561316
      nfiles: 26
    outs:
    - path: data/features/all/
      md5: 59ad083bddcb458819cdd2bd8b323849.dir
      size: 103077871
      nfiles: 13
  merge_features:
    cmd: bash code/bash/merge_features_all.sh -f data/features/all/ -b data/features/bc/
      -o data/features/csv/
    deps:
    - path: code/R/scripts/merge_features_cmd.R
      md5: 59aea8be39fc8238944dc8e28a473a13
      size: 1467
    - path: code/bash/merge_features_all.sh
      md5: 359b450522c5f25a4d8d875f09060e7f
      size: 1834
    - path: data/features/all/
      md5: 59ad083bddcb458819cdd2bd8b323849.dir
      size: 103077871
      nfiles: 13
    - path: data/features/bc/
      md5: a87c9ec1f4eef4152d6c74b0055d43f8.dir
      size: 52274699
      nfiles: 13
    outs:
    - path: data/features/csv/
      md5: 9a621fe981706e0787fceb06cf149c70.dir
      size: 155127535
      nfiles: 13
  label_dataset:
    cmd: bash code/bash/label_dataset_all.sh -i data/features/csv/ -l rawdata/labels/
      -o data/labeled/
    deps:
    - path: code/R/functions/label_dataset.R
      md5: 22122250508906df1af49f847f82197c
      size: 875
    - path: code/R/scripts/label_dataset_cmd.R
      md5: 05527c9f4b7372dc479ad83f67e74c25
      size: 1471
    - path: code/bash/label_dataset_all.sh
      md5: cd5ec3f348c9e202f154e0454ac82bda
      size: 1826
    - path: data/features/csv/
      md5: 9a621fe981706e0787fceb06cf149c70.dir
      size: 155127535
      nfiles: 13
    - path: rawdata/labels/
      md5: 39eb70e73e2d332eec5b6df32ac6350e.dir
      size: 10250
      nfiles: 13
    outs:
    - path: data/labeled/
      md5: d9b4f13c5d3f125b8039cb7e4b26fe0f.dir
      size: 190767314
      nfiles: 13
