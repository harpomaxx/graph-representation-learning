schema: '2.0'
stages:
  convert:
    cmd: Rscript code/R/convert_net2graph.R --input rawdata/ctu-13/capture20110810.binetflow.labels.gz
      --output data/pajek/capture20110810.binetflow.pajek
    deps:
    - path: code/R/convert_net2graph.R
      md5: ded29e3c95babf5e0e67b263f92ab8c1
      size: 1877
    - path: rawdata/ctu-13/capture20110810.binetflow.labels.gz
      md5: 2596558e22ac484fc0f92b489cf4c434
      size: 66410453
    outs:
    - path: data/pajek
      md5: 0ade4408d6be8908d1331bea09bbce8a.dir
      size: 10284700
      nfiles: 1
  generate_ncol:
    cmd: bash code/bash/convert_net2ncol_all.sh  -o data/ncol/ -i rawdata/ctu-13-2format/
    deps:
    - path: code/R/functions/convert_net2ncol.R
      md5: 0d4a658fec549de77c2f96790ad7cbe9
      size: 2881
    - path: code/R/scripts/convert_net2ncol_cmd.R
      md5: a7f769a5c2488a7ab3a4e004e46772b7
      size: 2284
    - path: code/bash/convert_net2ncol_all.sh
      md5: 1c8da8c1fab49560392b5a9ab28a15b6
      size: 1044
    - path: rawdata/ctu-13-2format/
      md5: 9a4f53b78f2028cde6970bfd92984c11.dir
      size: 967484936
      nfiles: 27
    outs:
    - path: data/ncol/
      md5: 3f89066fbcf448b23b36e5fa1f8ffa9b.dir
      size: 429022688
      nfiles: 26
    - path: metrics/
      md5: 5697bd248b268ee1e9583c679c61a7ff.dir
      size: 3314
      nfiles: 27
  calculate_bc:
    cmd: bash code/bash/calculate_bc_all.sh -i data/ncol/ -o data/features/bc/
    deps:
    - path: code/R/functions/calculate_bc.R
      md5: cb09859db7260e8c7a1a5d195498bdfb
      size: 893
    - path: code/R/scripts/calculate_bc_cmd.R
      md5: 4d351c4bf89c6853455c71bbe25b6546
      size: 1127
    - path: code/bash/calculate_bc_all.sh
      md5: 8467cb1c083d964ab357ff1a03f076b7
      size: 1387
    - path: data/ncol/
      md5: 3f89066fbcf448b23b36e5fa1f8ffa9b.dir
      size: 429022688
      nfiles: 26
    outs:
    - path: data/features/bc/
      md5: 7eb9626110436063d8d580aaa6f45afe.dir
      size: 52607058
      nfiles: 13
  calculate_features:
    cmd: bash code/bash/calculate_features_all.sh -i data/ncol/ -o data/features/all/
    deps:
    - path: code/R/functions/calculate_features.R
      md5: aad33d589d7686a7f1e28714145dd75b
      size: 2449
    - path: code/R/scripts/calculate_features_cmd.R
      md5: 2aef7d6c6c7a11dacbf908e6562044a2
      size: 1194
    - path: code/bash/calculate_features_all.sh
      md5: 4ee44c81d973fe4020d1c5e21adca2b7
      size: 1342
    - path: data/ncol/
      md5: 3f89066fbcf448b23b36e5fa1f8ffa9b.dir
      size: 429022688
      nfiles: 26
    outs:
    - path: data/features/all/
      md5: 2c6e96e99d00d57468e46bcf2bbb6b2e.dir
      size: 92476745
      nfiles: 13
  merge_features:
    cmd: bash code/bash/merge_features_all.sh -f data/features/all/ -b data/features/bc/
      -o data/features/csv/
    deps:
    - path: code/R/scripts/merge_features_cmd.R
      md5: 59aea8be39fc8238944dc8e28a473a13
      size: 1467
    - path: code/bash/merge_features_all.sh
      md5: 359b450522c5f25a4d8d875f09060e7f
      size: 1834
    - path: data/features/all/
      md5: 2c6e96e99d00d57468e46bcf2bbb6b2e.dir
      size: 92476745
      nfiles: 13
    - path: data/features/bc/
      md5: 7eb9626110436063d8d580aaa6f45afe.dir
      size: 52607058
      nfiles: 13
    outs:
    - path: data/features/csv/
      md5: 6ca9faff6752e11e2120cbc2a52c9010.dir
      size: 144583466
      nfiles: 13
  label_dataset:
    cmd: bash code/bash/label_dataset_all.sh -i data/features/csv/ -l rawdata/labels/
      -o data/labeled/
    deps:
    - path: code/R/functions/label_dataset.R
      md5: 22122250508906df1af49f847f82197c
      size: 875
    - path: code/R/scripts/label_dataset_cmd.R
      md5: 05527c9f4b7372dc479ad83f67e74c25
      size: 1471
    - path: code/bash/label_dataset_all.sh
      md5: cd5ec3f348c9e202f154e0454ac82bda
      size: 1826
    - path: data/features/csv/
      md5: 6ca9faff6752e11e2120cbc2a52c9010.dir
      size: 144583466
      nfiles: 13
    - path: rawdata/labels/
      md5: 39eb70e73e2d332eec5b6df32ac6350e.dir
      size: 10250
      nfiles: 13
    outs:
    - path: data/labeled/
      md5: d98f89715842f888d6342ca69fd8bab1.dir
      size: 180223195
      nfiles: 13
  normalize_features:
    cmd: bash code/bash/normalize_features_all.sh -n data/ncol/ -f data/features/csv/
      -o data/features/norm/
    deps:
    - path: code/R/functions/normalize_feature.R
      md5: 84fdc76cf7ca7535a83c2c4bfb93a25c
      size: 2074
    - path: code/R/scripts/normalize_features_cmd.R
      md5: 006d86f4f0c921e087397c24a3e8681e
      size: 2561
    - path: code/bash/normalize_features_all.sh
      md5: 9e72aef5f378f1ea67f1d87259fd5e12
      size: 1713
    - path: data/features/csv/
      md5: 6ca9faff6752e11e2120cbc2a52c9010.dir
      size: 144583466
      nfiles: 13
    - path: data/ncol/
      md5: 3f89066fbcf448b23b36e5fa1f8ffa9b.dir
      size: 429022688
      nfiles: 26
    outs:
    - path: data/features/norm/
      md5: 6bf9dbd1ee25de64862322470046eb10.dir
      size: 384418561
      nfiles: 13
  label_dataset_normalized:
    cmd: bash code/bash/label_dataset_all.sh -i data/features/norm/ -l rawdata/labels/
      -o data/labelednorm/
    deps:
    - path: code/R/functions/label_dataset.R
      md5: 22122250508906df1af49f847f82197c
      size: 875
    - path: code/R/scripts/label_dataset_cmd.R
      md5: 05527c9f4b7372dc479ad83f67e74c25
      size: 1471
    - path: code/bash/label_dataset_all.sh
      md5: cd5ec3f348c9e202f154e0454ac82bda
      size: 1826
    - path: data/features/norm/
      md5: 6bf9dbd1ee25de64862322470046eb10.dir
      size: 384418561
      nfiles: 13
    - path: rawdata/labels/
      md5: 39eb70e73e2d332eec5b6df32ac6350e.dir
      size: 10250
      nfiles: 13
    outs:
    - path: data/labelednorm/
      md5: c620adcc1d2fbff2946aa5f7297372c6.dir
      size: 419066111
      nfiles: 13
